{% extends "parent.html" %}
{% block content %}

<br>

<div class="container" id="all-maps">
    <h2 class="maps-header">Geographic Distribution of News Sentiment (2015 - 2017)</h2>
    <br>
    <!-- weekday choropleth div -->
    <div class="row">   
        <div class="col-md-12 map-summary" id="choropleth-map-weekday-summary">
            <b>By Day of the Week:</b>
            <p>
                The choropleth map animations below depict variations of news article sentiment by days of the week. Play the animation, pause at any time and hover the cursor over any US state or country to see its name along with the mean sentiment score of articles from that geographic entity, and the day of the week it represents. Both within the US and globally, overall news sentiment appears to get progressively more negative by days of the week, culminating at the weekend. 
            </p>
        </div>
    </div>
    <div class=row>
        <div class="col-md-6 maps" id="choropleth-map-us-weekday">
        </div>
        <div class="col-md-6 maps" id="choropleth-map-global-weekday">
        </div>
    </div>

    <br>

    <!-- monthly seasonal choropleth div -->
    <div class="row">
        <div class="col-md-12 map-summary" id="choropleth-map-monthly-summary">
            <b>By Month:</b>
            <p>
                The choropleth map animations below depict variations of news article sentiment by months, revealing seasonal variations. Play the animation, pause at any time and hover the cursor over any US state or country to see its name along with the mean sentiment score of articles from that geographic entity, and the month it represents. Coming right after the holiday season, January appears to have the most overall positive news sentiment within the US and globally. May is the other month with visibly greater positive news sentiment at the global level.
            </p>
        </div>
    </div>
    <div class=row>
        <div class="col-md-6 maps" id="choropleth-map-us-monthly">
        </div>
        <div class="col-md-6 maps" id="choropleth-map-global-monthly">
        </div>
    </div>

    <br>

    <!-- monthly over 3 years choropleth div -->
    <div class="row">
        <div class="col-md-12 map-summary" id="choropleth-map-3years-summary">
            <b>Over Time (Monthly):</b>    
            <p>
                The choropleth map animations below depict variations of news article sentiment on a monthly basis over three years, from 2015 to 2017. Play the animation, pause at any time and hover the cursor over any US state or country to see its name along with the mean sentiment score of articles from that geographic entity, and the year-month it represents.
            </p>
        </div>
    </div>
    <div class=row>
        <div class="col-md-6 maps" id="choropleth-map-us-3years">
        </div>
        <div class="col-md-6 maps" id="choropleth-map-global-3years">
        </div>
    </div>

    <br>

    <!-- Heatmap div -->
    <div class="row">
        <div class="col-md-12 map-summary" id="lat-lon-heatmap-summary">
            <p>
                <b>Headlines Around the World:</b>
                The map below depicts geographic locations and sentiments of headlines each month from 2015-2017.  Play the animation to see how article sentiments changed around the world.  You can pause the animation at any time and hover your cursor over a point to see its location name, a representative headline from that location for the month, and that article's sentiment score.
            </p>
        </div>
        <div class="col-md-12 maps" id="lat-lon-heatmap">
        </div>

        </div>
    </div>

    <br>


<script>
    
    // choropleth-map-us-weekday
    Plotly.newPlot("choropleth-map-us-weekday", {{ fig6_weekday_json | safe }}) 
    
    // choropleth-map-global-weekday
    Plotly.newPlot("choropleth-map-global-weekday", {{ fig3_weekday_json | safe }}) 

    // choropleth-map-us-monthly
    Plotly.newPlot("choropleth-map-us-monthly", {{ fig5_month_json | safe }}) 

    // choropleth-map-global-monthly
    Plotly.newPlot("choropleth-map-global-monthly", {{ fig2_month_json | safe }}) 
    
    // choropleth-map-us-3years
    Plotly.newPlot("choropleth-map-us-3years", {{ fig4_time_json | safe }}) 
    
    // choropleth-map-global-3yearss
    Plotly.newPlot("choropleth-map-global-3years", {{ fig1_time_json | safe }})       
    
    // lat-lon heatmap
    const lat_lon_heatmap_dict = {{ lat_lon_heatmap_dict | safe }}
    Plotly.newPlot("lat-lon-heatmap", lat_lon_heatmap_dict)        
    
</script>

{% endblock %}
